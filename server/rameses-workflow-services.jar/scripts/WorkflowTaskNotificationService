import com.rameses.annotations.*;


class WorkflowTaskNotificationService {		

    @XConnection('socketio')
    def socketio;

    @DataContext("sys_wf")
    def sysWf;

    @DataContext(dynamic=true)
    def db;

    @Env
    def env;

    @ProxyMethod
    public void notify( def data ) {
        def event = data.processname;
        def packet = [:];
        packet.processname = data.processname;
        packet.refid = data.refid;
        packet.taskid = data.taskid;
        socketio.send(event, packet);
    }

}
